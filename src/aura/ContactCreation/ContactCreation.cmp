<!--
 - Created by Adelchi on 20/12/2017.
 -->

<aura:component description="ContactCreation" controller="Lookup" implements="flexipage:availableForRecordHome, force:hasRecordId, flexipage:availableForAllPageTypes, forceCommunity:availableForAllPageTypes" access="global" >

    <aura:attribute name="newContact" type="Object"/>
    <aura:attribute name="simpleNewContact" type="Object"/>
    <aura:attribute name="newContactError" type="String"/>
    <aura:attribute name="accounts" type="Object[]"/>
    <aura:attribute Name="selItem2" type="object"  access="public" />
    <aura:attribute name="myBool" type="Boolean" default="False"/>

    <!--<ui:inputCheckbox aura:id="checkbox" label="Select?" change="{!c.onCheck}"/>-->


    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>

    <force:recordData aura:id="contactRecordCreator"
                      layoutType="FULL"
                      targetRecord="{!v.newContact}"
                      targetFields="{!v.simpleNewContact}"
                      targetError="{!v.newContactError}" />

    <!--<div class="slds-page-header slds-p-top_x-small" role="banner">
        <p class="slds-text-heading_label">Create Contact</p>
    </div>-->
    <!-- Display Lightning Data Service errors -->
    <aura:if isTrue="{!not(empty(v.newContactError))}">
        <div class="recordError">
            <ui:message title="Error" severity="error" closable="true">
                    {!v.newContactError}
            </ui:message>
        </div>
    </aura:if>
    <!-- Display the new contact form -->
    <header class="slds-p-top_x-large"></header>
    <div>
        <aura:if isTrue="{!v.myBool}">
            <div style="color: red; text-align: justify; border-style: solid; border-width: 1px; border-color: red; border-radius: 5px">
                <div style="margin: 10px">
                    <h1>
                        Electronic Medical Record Information Sheet
                    </h1><br/>
                    <div style="margin: 0px 10px 10px 10px">
                        <p>Iqarus is introducing an electronic medical records system to improve documentation, access, efficiency and
                            coordination of your medical care.
                        </p>
                        <p>
                            Your medical record will be held confidentially on the web based Salesforce platform. This platform uses industry accepted
                            encryption products to securely protect your data. Access to the record will be restricted to the medic,
                            clinicians involved in your clinical care e.g. (Iqarus Topside Doctor) and the Operators Medical Advisor.
                        </p>
                        <p>
                            We will only hold your identifiable record for as long as appropriate as detailed in our Control of Records Policy, which
                            complies with HSE and MCA statutory requirements and mirrors the NHS policy for medical records retention.
                        <p>
                        </p>
                        Anonymous data that cannot be traced back to you may be used by Iqarus for the purpose of studying and reporting the fitness of employees as a group e.g. studying the percentage of employees with high blood pressure
                        to best target appropriate health promotion campaigns.
                        </p>
                        <p>
                            By agreeing consent, you give permission for use of the electronic medical record system and disclosure of data for the said purposes.
                            If you have any questions about your medical record please ask the medic.
                        </p>
                    </div>
                </div>
            </div>
        </aura:if>
    </div>
    <header class="slds-p-top_x-large"></header>

    <div class="slds-grid">
        <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-3">
            <div class="slds-form-element">
                <div class="slds-form-element__control">
                    <lightning:input aura:id="contactField" name="firstName" label="First Name" value="{!v.simpleNewContact.FirstName}" required="true" placeholder="Enter First Name"/>
                </div>
            </div>
        </div>

        <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-3">
            <div class="slds-form-element">
                <div class="slds-form-element__control">
                    <lightning:input aura:id="contactField" name="lastName" label="Last Name" value="{!v.simpleNewContact.LastName}" required="true" placeholder="Enter Last Name"/>
                </div>
            </div>
        </div>
        <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-3 ">
            <div class="slds-form-element">
                <div class="slds-form-element__control">
                    <lightning:input aura:id="contactField" name="Job Title" label="Job Title" value="{!v.simpleNewContact.Title}" placeholder="Enter Job Title"/>
                </div>
            </div>
        </div>
    </div>
    <div class="slds-grid slds-p-top_large">
        <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-3 ">
            <div class="slds-form-element">
                <div class="slds-form-element__control">
                  <lightning:select aura:id="contactField" name="gender" label="Gender" value="{!v.simpleNewContact.Gender__c}"  >
                        <option  value="">choose one...</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </lightning:select>
                </div>
            </div>
        </div>

        <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-3">
            <div class="slds-form-element">
                <div class="slds-form-element__control">
                    <ui:inputCheckbox aura:id="contactField" name="GDPRCompliant" label="GDPR Compliant" value="{!v.simpleNewContact.GDPRCompliant__c}" />
                </div>
            </div>
        </div>

        <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-3">
            <div class="slds-form-element">
                <div class="slds-form-element__control">
                    <label>Account</label>
                    <lightning:helptext content="Start typing Account Name and hit Spacebar" />
                    <c:Lookup objectName="Account"
                              field_API_text="Name"
                              field_API_val="Id"
                              limit="4"
                              field_API_search="Name"
                              lookupIcon="standard:account"
                              selItem="{!v.selItem2}"
                              placeholder="Select Account"/>
                </div>
            </div>
        </div>
    </div>


<!--    <table class="slds-form_inline " >
        <tr class="slds-size_12-of-12">
            <td class="slds-size_2-of-12 slds-p-top_large">
                <lightning:input aura:id="contactField" name="title" label="Title" value="{!v.simpleNewContact.Title}" placeholder="Enter Title"/>
            </td>
            <td class="slds-size_3-of-12">
                <lightning:input aura:id="contactField" name="firstName" label="First Name" value="{!v.simpleNewContact.FirstName}" required="true"/>
            </td>
            <td class="slds-size_3-of-12">
                <lightning:input aura:id="contactField" name="lastName" label="Last Name" value="{!v.simpleNewContact.LastName}" required="true"/>
            </td >
            <td class="slds-size_4-of-12"></td>
        </tr >
        <tr class="slds-size_12-of-12">
            <td class="slds-size_2-of-12">
                <lightning:input aura:id="contactField" name="gender" label="Gender" value="{!v.simpleNewContact.Gender__c}" />
            </td>&lt;!&ndash;
            <td class="slds-size_1-of-12">
                <ui:inputCheckbox aura:id="contactField" name="GDPR" label="GDPR" value="{!v.simpleNewContact.GDPR__c}" />
            </td>&ndash;&gt;
            <td class="slds-size_1-of-12">
                <ui:inputCheckbox aura:id="contactField" name="GDPRCompliant" label="GDPR Compliant" value="{!v.simpleNewContact.GDPRCompliant__c}" />
            </td>
            <td class=" slds-size_2-of-12">
                <td>Account
                    <lightning:helptext content="Start typing Account Name and hit Spacebar" />
                        <c:Lookup objectName="Account"
                                  field_API_text="Name"
                                  field_API_val="Id"
                                  limit="4"
                                  field_API_search="Name"
                                  lookupIcon="standard:account"
                                  selItem="{!v.selItem2}"
                                  placeholder="Select Account"/>
                </td>
            </td>
        </tr>-->
        <!--<lightning:input aura:id="contactField" name="title" label="Account" value="{!v.simpleNewContact.AccountId}"/>-->

      <!--  <div class="slds-grid slds-wrap">
            <div class="slds-size_1-of-1
                        slds-small-size_1-of-1
                        slds-medium-size_1-of-2
                        slds-large-size_1-of-4 ">
                <aura:if isTrue="{! not(empty(v.selItem2)) }">
                    <br />
                    This is Parent Lightning component <br />
                    Item Selected : <br />
                    ID - {#v.selItem2.val} <br />
                    Text - {#v.selItem2.text}<br />
                    Object - {#v.selItem2.objName}
                </aura:if>
            </div>
        </div>-->
   <!-- </table>-->
    <lightning:button label="Save contact" onclick="{!c.handleSaveContact}" variant="brand" class="slds-m-top_medium"/>

</aura:component>
